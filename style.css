* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: system-ui; background: #1a1a2e; color: #fff; padding: 20px; }
#game { max-width: 900px; margin: 0 auto; }
h2 { margin-bottom: 10px; }
#puzzles, #pieces { margin-bottom: 20px; }
#puzzle-row, #piece-supply { display: flex; gap: 15px; flex-wrap: wrap; }
.puzzle-row { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 15px; }
#score { font-size: 24px; font-weight: bold; }

.puzzle {
    background: #2d2d44;
    padding: 10px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.puzzle-info { margin-top: 8px; font-size: 14px; display: flex; align-items: center; gap: 5px; }

.reward-preview { background: transparent; padding: 2px; cursor: default; }
.reward-preview .piece-grid .cell.filled { background: #666; }
.puzzle-grid {
    display: grid;
    gap: 2px;
    background: #444;
    padding: 2px;
}
.puzzle-grid .cell {
    width: 30px;
    height: 30px;
    background: #666;
}
.puzzle-grid .cell.empty { background: #222; }
.puzzle-grid .cell.filled { background: #f90; }
.puzzle-grid .cell.solid { background: #666; }

.piece {
    background: #3d3d5c;
    padding: 5px;
    border-radius: 4px;
    cursor: grab;
    display: flex;
    align-items: center;
    justify-content: center;
}
.piece:active { cursor: grabbing; }
.piece.dragging { opacity: 0.5; }
.piece-grid {
    display: grid;
    gap: 1px;
}
.piece-grid .cell {
    width: 20px;
    height: 20px;
    background: transparent;
}
.piece-grid .cell.filled { background: #f90; }

.puzzle.drag-over { outline: 2px solid #4a9; }
